# 2025年9月14日　学習記録

---

# 使用した教材
  オラクルマスター教科書 Silver DBA Oracle Database Administration I
  
  Ping-t Bronze DBA / Silver SQL
  
  Docker上で構築した、自身のDBサーバー

---

# 学習内容(予定)
  Ping-t上のBronze DBAを全問解く(3h)
  
  Silver DBAのSQL範囲を手を動かしながら進めていく (4h)
  
# 学んだこと

## フラッシュバックに関する、それぞれの単語の意味

| 用語 | 意味 |
| ------------- | ------------- |
| **フラッシュバック・ドロップ** | 誤って削除した表を元に戻す機能 |
| **フラッシュバック問い合わせ** | 指定した過去のある時点のデータを問い合わせる |
| **フラッシュバック・バージョン** | 指定した期間内に表に存在していた全ての行の全てのバージョンを問い合わせる |
| **フラッシュバック・トランザクション問い合わせ** | 指定したある期間内のトランザクションで行われた更新履歴を問い合わせる |
| **フラッシュバック表** | 表のデータを指定した過去のある時点のデータに戻す |

## UNDO表領域について

  ・複数作成することが出来る、ただし有効にできるUNDO表領域は1つだけ
  
  ・UNDO表領域には、複数のデータファイルを割り当てることが出来る

## 外部キー制約について

  ・列レベルではFOREIGN KEYキーワードを指定できない

  誤)```customer_id NUMBER(4) CONSTRAINT cust_fk FOREIGN KEY REFERENCES customers(customer_id)```

  ・このように列レベルで外部キーを制約したい場合

  正)```customer_id NUMBER(4) CONSTRAINT cust_fk REFERENCES customers(customer_id)```

  のように書くのが正しい。

## そもそも表レベルと列レベルはどういうものか

　・列レベル制約は、各列の定義（NUMBERとか）と同時に直接制約を記載する方法

　・表レベル制約は、すべての列定義後に、まとめて制約を記述する方法


| 項目 | 列レベル | 表レベル |
|------|----------|----------|
| **記述場所** | 各列定義内 | 全列定義後 |
| **制約名指定** | ✅ 可能 | ✅ 可能 |
| **NOT NULL** | ✅ 可能 | ❌ 不可 |
| **FOREIGN KEY** | `FOREIGN KEY`不要 | `FOREIGN KEY`必要 |
| **複合制約** | ❌ 不可 | ✅ 可能 |
| **可読性** | 列と制約が近い | 制約がまとまっている |

## SGAの主要コンポーネント

| コンポーネント | 説明 |
|---|---|
| **データベース・バッファ・キャッシュ** | データファイルから読み込んだデータ・ブロックのコピーを保持する。データ用の作業領域 |
| **REDOログ・バッファ** | データの変更履歴を保持する |
| **共有プール** | 実行されたSQLXの解析結果や実行計画、データ・ディクショナリの情報を保持する |
| **ラージ・プール** | 大量のメモリーを一時的に使用する共有プールの補助的な領域 |
| **Javaプール** | Java仮想マシン（JVM）内のセッション固有のJavaコードやデータを格納する |
| **Streamsプール** | Oracle Streams（レプリケーション機能）によって使用される |



